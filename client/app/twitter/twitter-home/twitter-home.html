<div class="br-mainpanel">
<div class="br-pageheader">
  <nav class="breadcrumb pd-0 mg-0 tx-12">
    <a class="breadcrumb-item" href="index.html">Bracket</a>
    <a class="breadcrumb-item" href="#">Menu</a>
    <span class="breadcrumb-item active">Sub Menu</span>
  </nav>
</div><!-- br-pageheader -->
<div class="br-pagetitle">
  <i class="icon ion-ios-filing-outline"></i>
  <div>
    <h4>Page Title</h4>
    <p class="mg-b-0">Page description.</p>
  </div>
</div><!-- d-flex -->
<div class="br-pagebody">
  <div class="site-content twitter-home light-bg">
    <header class="naked mb-2"></header>
    <div class="container">
      <div class="row text-center" ng-if="!vm.authorized">
        <div class="col-md-8 col-md-offset-2 mt-5">
          <!-- Integration Info & Description -->
          <div class="extension-logo pb-3">
            <img src="../assets/images/extensions/extension-twitter.svg" alt="Twitter">
          </div>
          <h3 class="heavyheader mb-2 ng-binding">Twitter App</h3>
          <p class="mb-5">This app will auto-generate recommended tweets that capture important metrics of your department operations. Easily post directly to your Twitter feed with simple to use edit and preview control modes. Want to include rich media such as a photo with your tweet? No problem. We have an option for that as well!</p>
          <!-- Authorization Access -->
          <div class="authorize mt-5">
            <h4 class="subheader mb-4 pb-4">Please authorize StatEngine to use your Twitter account.</h4>
            <div class="row">
              <div class="col-md-5 col-md-offset-1">
                <p class="text-left">This application <strong class="text-success">will be able to</strong>:</p>
                <ul class="statengine ml-5 text-left">
                  <li>Read tweets from your timeline</li>
                  <li>See who you follow</li>
                  <li>Post tweets on your behalf</li>
                </ul>
              </div>
              <div class="col-md-5">
                <p class="text-left">This application <strong class="text-danger">will NOT be able to</strong>:</p>
                <ul class="statengine ml-5 text-left">
                  <li>Access your private messages</li>
                  <li>See your password</li>
                  <li>Update your profile</li>
                </ul>
              </div>
            </div>
            <button class="btn btn-primary mt-4 mb-2" ng-click="vm.authorize()">Authorize this Integration</button>
          </div>
        </div>
      </div>
      <section ng-if="vm.authorized">

        <!-- Extension Attribution -->
        <h4 class="heavyheader text-center extension-attribution mb-3 embossed"><i class="fa fa-twitter mr-4"></i>Twitter</h4>

        <!-- Account Info -->
        <div class="row twitter-account-info">
          <div class="col-lg-12 mb-3">
            <div class="card light-border">
              <h4 class="card-header">Twitter Account Info</h4>
              <p>This integration is currently connected to the following user profile:</p>


              <div class="row">
                <div class="col-xs-3 avatar">
                  <i class="fa fa-check-circle text-success checkmark"></i>
                  <img src={{vm.profileUrl}} class="my-3 ml-2 mr-4"></img>
                </div>
                <div class="col-xs-9">
                  <h4 class="pt-2 mt-4">{{ vm.twitterProfile.name }}</h4>
                  <span><strong>{{ vm.twitterProfile.statuses_count }}</strong>&nbsp;Tweets</span>
                  <em>&nbsp;| &nbsp;</em> <span><strong>{{ vm.twitterProfile.friends_count }}</strong> Following</span>
                  <em>&nbsp;| &nbsp;</em> <span><strong>{{ vm.twitterProfile.followers_count }}</strong> Followers</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Tweet Recommendations -->
        <div class="row recommendations">
          <div class="col-lg-12 mb-3">
            <div class="card light-border">
              <h4 class="card-header">Tweet Recommendations</h4>

              <div ng-if="!vm.recommendedTweets || vm.recommendedTweets.length === 0" class="text-warning">
                <div class="alert alert-info text-center mx-5 my-2" role="alert">We don't have any recommended tweets for you right now. Please check back later!</div>
              </div>

              <div ng-if="vm.recommendedTweets.length > 0" class="col-md-12 px-0 pt-2 pb-4">

                <p class="mb-2 intro">Tweet any of the following recommendations directly to <a href="http://twitter.com" target="_blank">Twitter</a>! Edit the suggested text, or add images and overlay text prior to tweeting by clicking the <i class="fa fa-pencil"></i> button. Not sure if its perfect? Thats OK, you can preview what the recommend tweet will look like by clicking the <i class="fa fa-eye"></i> button. Finally, to post the tweet, click the <i class="fa fa-twitter"></i> button.</p>

                <div class="row" >
                  <div class="col-md-4 my-3" ng-repeat="tweet in vm.recommendedTweets">
                    <div class="card card-shadowed tweet-card" ng-class="tweet.tweet_json.class">
                      <div class="tweet-text" data-title="Text">
                        {{tweet.tweet_json.status}}
                      </div>
                      <div class="tweet-actions" data-title="Actions">
                        <button class="btn-link" ng-click="vm.editTweet(tweet)" ng-class="{'fa-disabled': tweet.date_tweeted }" ng-disabled="tweet.date_tweeted" uib-popover="Edit" popover-trigger="'mouseenter'"><i class="fa fa-pencil"></i></button>
                        <button class="btn-link" ng-click="vm.previewTweet(tweet)" uib-popover="Preview/View" popover-trigger="'mouseenter'"><i class="fa fa-eye"></i></button>
                        <button class="btn-link" ng-click="vm.tweetTweet(tweet)" ng-class="{'fa-disabled': tweet.date_tweeted }" ng-disabled="tweet.date_tweeted" uib-popover="Tweet" popover-trigger="'mouseenter'"><i class="fa fa-twitter"></i></button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Recent Activity -->
        <div class="row mt-1 recent-activity">
          <div class="col-lg-12">
            <div class="card light-border">
              <h4 class="card-header">Recent Activity</h4>

              <div ng-if="!vm.recentTweets || vm.recentTweets.length === 0" class="text-warning">
                <br>
                <p>Whoops - looks like you don't have any recent activity.  Start tweeting now! </p>
              </div>

              <div ng-if="vm.recentTweets.length > 0">
                <div class="table mb-5">
                  <div class="table-row header">
                    <div class="cell tweet-cell">
                      Tweet
                    </div>
                    <div class="cell tweet-cell">
                      # Retweets <i class="fa fa-retweet"></i>
                    </div>
                    <div class="cell tweet-cell">
                      # Favorites <i class="fa fa-heart-o"></i>
                    </div>
                    <div class="cell tweet-cell">
                      Date
                    </div>
                  </div>
                  <div class="table-row" ng-repeat="tweet in vm.recentTweets">
                    <div class="cell tweet-cell" data-title="Text">
                      <a ng-click="vm.openTweet(tweet)" target="_blank" href="#"> {{tweet.text}} </a>
                    </div>
                    <div class="cell tweet-cell" data-title="Text">
                      {{tweet.retweet_count}}
                    </div>
                    <div class="cell tweet-cell" data-title="Text">
                      {{tweet.favorite_count}}
                    </div>
                    <div class="cell tweet-cell" data-title="Text">
                      {{tweet.created_at}}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        <!-- Disclaimer -->
        <div class="row disclaimer">
          <div class="col-md-9 col-md-offset-1 my-4 text-center">
            <h5> All marketplace integrations are currently experimental.&nbsp&nbspYou are responsibly for verifying any information presented before distributing.  Please report any discrepencies or suggestions to us.&nbsp&nbspAll marketplace integrations are also subject to pricing in the future. </h5>
          </div>
        </div>

      </section>
    </div>
  </div>
</div>
