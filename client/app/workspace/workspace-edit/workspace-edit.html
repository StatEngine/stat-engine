<div class="br-pageheader">
  <nav class="breadcrumb pd-0 mg-0 tx-12">
    <a class="breadcrumb-item" href="site.user.home">Home</a>
    <a class="breadcrumb-item" ui-sref="site.workspace.home">Workspaces</a>
    <a class="breadcrumb-item">{{vm.title}}</a>
  </nav>
</div>
<section class="container">
  <section class="row mb-12 justify-content-md-center animated fadeIn">
    <div class="col-md-auto align-self-center">
      <div class="col-md-auto align-self-center">
        <h1 class="text-center my-5">{{vm.title}}</h1>

        <div class="br-pagebody">
          <form class="form form-wrapper my-0" name="form" ng-submit="vm.updateWorkspace(form)" id="workspace-form" novalidate>
            <div class="form-group">
              <label>Name</label>
              <input type="text" id="name" name="name" class="form-control" ng-model="vm.workspace.name" required minlength='3' maxlength='20' mongoose-error="mongoose-error"/>
            </div>

            <div class="form-group">
              <label>Description</label>
              <textarea name="description" rows="4" class="form-control" ng-model="vm.workspace.description" maxlength="255" required/>
            </div>

            <div class="form-group">
              <label>Color</label>
              <div>
                <spectrum-colorpicker ng-model="vm.workspace.color" format="'hex'" palette="vm.palette" options="{showPaletteOnly: true, showPalette:true, hideAfterPaletteSelect:true }"></spectrum-colorpicker>
              </div>
            </div>

            <div class="form-group" ng-if="!vm.workspace._id">
              <label>Create Sample Dashboards</label>
              <div>
                <toggle-switch
                  on="vm.seed"
                  on-change="emailForm.$setDirty()"
                  knob-class="knob-yes-no"
                ></toggle-switch>
              </div>
            </div>

            <div class="mt-5">
              <p class="help-block" ng-show="vm.errors">
                <ul>
                  <li ng-repeat="error in vm.errors">
                    <p class="text-danger">{{ error.message }}</p>
                  </li>
                </ul>
              </p>
              <div class="d-flex">
                <button id='cancel-workspace' ui-sref="site.workspace.manage" class="btn btn-danger btn-lg flex-1">Cancel</button>
                <div class="px-3"></div>
                <button id='save-workspace' class="btn btn-primary btn-lg flex-1" type="submit">Create</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
</section>
