<div class="user-home">
  <navbar class="animated fadeInDown colored"></navbar>
  <header class="slim">
    <section class="container m-auto pt-5">
      <div class="row">
        <div class="welcome-text col-12">
          <span> {{vm.greeting }}, </span>
          <h1 class="subheader"> {{ vm.principal.first_name }} {{ vm.principal.last_name }}</h1>
          <!--<p>Marketplace now in Beta - check it out <a ui-sref='site.marketplace.home'>here</a></p>-->
          <!--<p ng-if="vm.tweetCount > 0">You have <strong>{{ vm.tweetCount }}</strong> recommened tweets - check them out <a ui-sref='site.twitter.home'>here</a></p>-->

          <!--<p>Its been <strong>2 days</strong> since your last sign in and there is nothing new to report. --->

          <!--<p ng-if="vm.dataQuality.grade" class="animated fadeIn"> Your data quality score is <strong> {{ vm.dataQuality.grade | lowercase }}</strong> - <a id='user-home-data-quality' ng-click="vm.scrollTo('#data-quality-analysis')" href="#">learn why</a>.</p>-->
        </div>
        <div class="col-12 py-2 button-group">
          <div ng-if="!vm.fireDepartment && !vm.requestedFireDepartment">
            <p> Thanks for signing up! <br>
              <button id='user-home-request-access' class="btn btn-primary" ui-sref="site.user.requestAccess">Request Access Now</button> <br> <br>
            </p>
          </div>
          <div ng-if="!vm.fireDepartment && vm.requestedFireDepartment">
            <p> Thanks for signing up! <br>
              Your're pending approval from {{vm.requestedFireDepartment.name }}. <br>
              Please follow up with your local adminstrator to receive approval.
            </p>
          </div>
          <div ng-if="vm.fireDepartment && !vm.setupComplete">
            <p>
              We're still in the onboarding process. <br>
              <button id='user-home-getting-started' class="btn btn-primary" ui-sref="site.user.gettingStarted">Onboarding Status</button>
              <button ng-if="vm.fireDepartment.integration_complete" id='user-home-getting-started' class="btn btn-outline " ng-click="vm.dashboard()">Dashboard</button>
            </p>
          </div>
          <div ng-if="vm.setupComplete">
            <button id='user-home-dashboard' class="btn btn-primary" ng-click="vm.dashboard()">Dashboard</button>
          </div>
        </div>
      </div>
    </section>
  </header>
  <section class="container py-5 overview">
    <div class="row">
      <div class="col-sm-5 summary-profile">
        <span class="avatar glyphicon glyphicon-user" aria-hidden="true"></span>
        <h4 class="heavyheader">My Profile Summary &nbsp<a ui-sref="site.account.edituser"><span class="fa fa-pencil"></span></a></h4>
        <dl class="row">
          <div class="col">
            <dt>First Name</dt>
            <dd> {{ vm.principal.first_name }}</dd>

            <dt>Last Name</dt>
            <dd> {{ vm.principal.last_name }}</dd>
          </div>
          <div class="col">
            <dt>Email</dt>
            <dd> {{ vm.principal.email }}</dd>

            <dt>Roles</dt>
            <dd> {{ vm.principal.roles.join(", ") }}</dd>
          </div>
        </dl>
      </div>
      <div class="col-sm-5 col-sm-offset-2 summary-department">
        <span class="avatar glyphicon glyphicon-user" aria-hidden="true"></span>
        <h4 class="heavyheader">My Department Summary &nbsp<a ng-if="vm.principal.isDepartmentAdmin" ui-sref="site.departmentAdmin.home"><span class="fa fa-pencil"></span></a></h4>
        <dl class="row" ng-if="vm.fireDepartment">
          <div class="col">
            <dt>FDID</dt>
            <dd>{{ vm.fireDepartment.fd_id }}</dd>

            <dt>Name</dt>
            <dd>{{ vm.fireDepartment.name }}</dd>

            <dt>Timezone</dt>
            <dd>{{ vm.fireDepartment.timezone }}</dd>
          </div>
          <div class="col">
            <dt>Firecares ID</dt>
            <dd>{{ vm.fireDepartment.firecares_id }}</dd>

            <dt>State</dt>
            <dd>{{ vm.fireDepartment.state }}</dd>
          </div>
        </dl>
        <div ng-if="!vm.fireDepartment && !vm.principal.isAdmin">
          <div class="row justify-content-md-center">
            <div class="col">
              <div ng-if="!vm.requestedFireDepartment">
                <p class='text-danger text-center'>
                  Looks like you haven't been assinged a department yet. <br>
                  Please <a ui-sref="site.user.requestAccess"> Request Access </a> now
                </p>
              </div>
              <div ng-if="vm.requestedFireDepartment">
                <p class='text-warning'> Pending approval from {{ vm.requestedFireDepartment.name }} </p>
              </div>
            </div>
          </div>
        </div>
        <div ng-if="vm.principal.isAdmin">
          <div class="row justify-content-md-center">
            <div class="col">
              <div class="form-group">
                <div ng-if="!vm.assignedFireDepartment">
                  <p class='text-danger text-center'>
                    Not currently assigned to a department. <br>
                  </p>
                </div>
                <label>Select Fire Department</label>
                <select ng-options="fd as fd.name for fd in vm.fireDepartments track by fd._id" ng-model="vm.assignedFireDepartment" class="form-control select-md"></select>
              </div>
              <div>
                <button id='user-home-dashboard' class="btn btn-primary" ng-click="vm.setFireDepartment(vm.assignedFireDepartment)">Switch</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!--
  <section class="fluid-container py-5 bg-light-gray integrations-container">
    <div class="container">
      <h3 class="mb-5">Installed Integrations</h3>
      <div class="row">
        <div class="col d-flex flex-wrap text-center">
          <div class="card col" ng-class="{'disabled' : toggle }">
            <div class="switch">
              <input type="checkbox" id="toggle" ng-click="toggle = ! toggle" checked>
              <label for="toggle"></label>
            </div>
            <span class="glyphicon glyphicon-plane" aria-hidden="true"></span>
            <h5 class="heavyheader">Some Header Here</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere mollitia repellat modi a hic. Natus maiores dolores similique sit, eius quas veritatis distinctio voluptatem.</p>
          </div>
          <div class="card col" ng-class="{'disabled' : toggle2 }">
            <div class="switch">
              <input type="checkbox" id="toggle-2" ng-click="toggle2 = ! toggle2" checked>
              <label for="toggle-2"></label>
            </div>
            <span class="glyphicon glyphicon-plane" aria-hidden="true"></span>
            <h5 class="heavyheader">Some Header Here</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere mollitia repellat modi a hic. Natus maiores dolores similique sit, eius quas veritatis distinctio voluptatem.</p>
          </div>
          <div class="card col" ng-class="{'disabled' : toggle3 }">
            <div class="switch">
              <input type="checkbox" id="toggle-3" ng-click="toggle3 = ! toggle3" checked>
              <label for="toggle-3"></label>
            </div>
            <span class="glyphicon glyphicon-plane" aria-hidden="true"></span>
            <h5 class="heavyheader">Some Header Here</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere mollitia repellat modi a hic. Natus maiores dolores similique sit, eius quas veritatis distinctio voluptatem.</p>
          </div>
          <div class="card col" ng-class="{'disabled' : toggle4 }">
            <div class="switch">
              <input type="checkbox" id="toggle-4" ng-click="toggle4 = ! toggle4" checked>
              <label for="toggle-4"></label>
            </div>
            <span class="glyphicon glyphicon-plane" aria-hidden="true"></span>
            <h5 class="heavyheader">Some Header Here</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere mollitia repellat modi a hic. Natus maiores dolores similique sit, eius quas veritatis distinctio voluptatem.</p>
          </div>
          <div class="card col" ng-class="{'disabled' : toggle5 }">
            <div class="switch">
              <input type="checkbox" id="toggle-5" ng-click="toggle5 = ! toggle5" checked>
              <label for="toggle-5"></label>
            </div>
            <span class="glyphicon glyphicon-plane" aria-hidden="true"></span>
            <h5 class="heavyheader">Some Header Here</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere mollitia repellat modi a hic. Natus maiores dolores similique sit, eius quas veritatis distinctio voluptatem.</p>
          </div>
          <div class="card col" ng-class="{'disabled' : toggle6 }">
            <div class="switch">
              <input type="checkbox" id="toggle-6" ng-click="toggle6 = ! toggle6" checked>
              <label for="toggle-6"></label>
            </div>
            <span class="glyphicon glyphicon-plane" aria-hidden="true"></span>
            <h5 class="heavyheader">Some Header Here</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere mollitia repellat modi a hic. Natus maiores dolores similique sit, eius quas veritatis distinctio voluptatem.</p>
          </div>
          <div class="card col" ng-class="{'disabled' : toggle7 }">
            <div class="switch">
              <input type="checkbox" id="toggle-7" ng-click="toggle7 = ! toggle7" checked>
              <label for="toggle-7"></label>
            </div>
            <span class="glyphicon glyphicon-plane" aria-hidden="true"></span>
            <h5 class="heavyheader">Some Header Here</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere mollitia repellat modi a hic. Natus maiores dolores similique sit, eius quas veritatis distinctio voluptatem.</p>
          </div>
          <div class="card col" ng-class="{'disabled' : toggle8 }">
            <div class="switch">
              <input type="checkbox" id="toggle-8" ng-click="toggle8 = ! toggle8" checked>
              <label for="toggle-8"></label>
            </div>
            <span class="glyphicon glyphicon-plane" aria-hidden="true"></span>
            <h5 class="heavyheader">Some Header Here</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere mollitia repellat modi a hic. Natus maiores dolores similique sit, eius quas veritatis distinctio voluptatem.</p>
          </div>
        </div>
      </div>
      <div class="py-5 text-center cta">
        <h4 class="pb-5">Our extensible plugin architecture allows you to easily boost the StatEngine platform to meet all your needs.</h4>
        <button class="btn btn-outline-inverse mb-4 hvr-float">View All Integrations on the Marketplace</button>
      </div>
    </div>
  </section>

  -->
</div>
